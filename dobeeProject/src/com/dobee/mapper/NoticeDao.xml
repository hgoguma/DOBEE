<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dobee.dao.NoticeDao">

<select id="noticeList" resultType="com.dobee.vo.notice.Notice">
   SELECT NOTSEQ, TITLE, CONTENT, REGDATE, COUNT FROM NOTICE
</select>

<insert id="noticeWrite" parameterType="com.dobee.vo.notice.Notice">
   INSERT INTO NOTICE (TITLE,CONTENT,REGDATE,COUNT)VALUES(#{title},#{content},now(),0)
</insert>
<insert id="noticeWrite2" parameterType="com.dobee.vo.schedule.NotSchedule">
   INSERT INTO NOTSCHEDULE (NSCONTENT) VALUES(#{nsContent})
</insert>

<insert id="noticeWrite3" parameterType="com.dobee.vo.schedule.Schedule">
   INSERT INTO SCHEDULE (STARTTIME,ENDTIME) VALUES(#{startTime},#{endTime})
</insert>


<select id="noticeDetail" resultType="com.dobee.vo.notice.Notice">
   SELECT NOTSEQ,REGDATE,TITLE, CONTENT FROM NOTICE WHERE NOTSEQ=#{notSeq}
</select>

<update id="noticeModify" parameterType="com.dobee.vo.notice.Notice">
   UPDATE NOTICE SET TITLE=#{title}, CONTENT=#{content} WHERE NOTSEQ=#{notSeq}
</update>

<update id="noticeCount" parameterType="com.dobee.vo.notice.Notice">
   UPDATE NOTICE SET COUNT = COUNT+1
   WHERE NOTSEQ=#{notSeq}
</update>

<delete id="noticeDel" parameterType="integer">
		DELETE FROM NOTICE WHERE NOTSEQ=#{notSeq}
	</delete>
</mapper>